<h1>Hi <%= current_user.first_name %>, these are all your bikes</h1>

<div class="d-flex justify-space-around">
  <% @bikes.each do |bike| %>
    <div class="card shadow p-3 mb-5 bg-body rounded mx-3" style="width: 18rem;">
      <img class="card-img-top" src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/breakfast.jpg" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title"><%= bike.bike_type %></h5>
        <p class="card-text"><%= bike.brand %></p>
        <p class="card-text"><%= bike.address %></p>
        <p class="card-text"><%= bike.description %></p>
        <i class="fa-solid fa-euro-sign"><%= bike.price_per_day %></i>
      </div>
      <div class="card-body d-flex justify-content-evenly">
          <%= link_to "Delete this bike", bike_path(bike), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "card-link text-danger" %>
        </div>
    </div>
  <% end %>
</div>

<h1>Here are all your booking requests to rent a bike</h1>
<div class="d-flex justify-space-around">
  <% @user_own_bookings.each do |booking| %>
    <div class="card shadow p-3 mb-5 bg-body rounded mx-3" style="width: 18rem;">
      <img class="card-img-top" src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/breakfast.jpg" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title"><%= Bike.find(booking.bike_id).bike_type %></h5>
        <p class="card-text"><%= Bike.find(booking.bike_id).brand %></p>
        <p class="card-text"><%= Bike.find(booking.bike_id).address %></p>
        <p class="card-text"><%= Bike.find(booking.bike_id).description %></p>
        <p class="card-text">Your booking starts on <%= booking.start_date %> and finishes on <%= booking.end_date %></p>
        <span>The total price is</span><i class="fa-solid fa-euro-sign"> <%= booking.total_price %></i>
        <p class="card-text"><%= booking.status %></p>
      </div>
      <div class="card-body d-flex justify-content-evenly">
        <%= link_to "Edit", bike_path(Bike.find(booking.bike_id), :booking_id => booking.id), class: "card-link text-warning" %>
        <%= link_to "Cancel", booking_path(booking),  data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "card-link text-danger" %>
      </div>
    </div>
  <% end %>
</div>

<h1>And here are other users requests to rent your bike(s)</h1>
<div class="d-flex justify-space-around">
  <% @rented_out_by_user.each do |booking| %>
    <div class="card shadow p-3 mb-5 bg-body rounded mx-3" style="width: 18rem;">
      <img class="card-img-top" src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/breakfast.jpg" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title"><%= Bike.find(booking.bike_id).bike_type %></h5>
        <p class="card-text"><%= Bike.find(booking.bike_id).brand %></p>
        <p class="card-text"><%= Bike.find(booking.bike_id).address %></p>
        <p class="card-text"><%= Bike.find(booking.bike_id).description %></p>
        <p class="card-text">Your booking starts on <%= booking.start_date %> and finishes on <%= booking.end_date %></p>
        <span>The total price is</span><i class="fa-solid fa-euro-sign"> <%= booking.total_price %></i>
      </div>
      <div class="card-body d-flex justify-content-evenly">
        <%= link_to "Validate", class: "card-link text-warning" %>
        <%= link_to "Refuse", booking_path(booking), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "card-link text-danger" %>
      </div>
    </div>
  <% end %>
</div>
