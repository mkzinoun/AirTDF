<div class="container">

  <h1 class="fw-bold">Hello <%= current_user.first_name %> ðŸŽ‰</h1>
  <h6 class="welcome">Welcome back to your garage !</h6>

  <nav class="mt-5">
    <div class="nav nav-pills" id="nav-tab" role="tablist">
      <button class="nav-link nav-link-dashboard active" id="nav-requests-tab" data-bs-toggle="tab" data-bs-target="#nav-resquests" type="button" role="tab" aria-controls="nav-requests" aria-selected="true">My bookings</button>
      <button class="nav-link nav-link-dashboard" id="nav-bookings-tab" data-bs-toggle="tab" data-bs-target="#nav-bookings" type="button" role="tab" aria-controls="nav-bookings" aria-selected="true">My validations</button>
      <button class="nav-link nav-link-dashboard" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="true">My bikes</button>
    </div>
  </nav>

  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show" id="nav-resquests" role="tabpanel" aria-labelledby="nav-resquests-tab" tabindex="0">
      <section class="section">
        <div class="d-flex justify-space-around">
          <% if @user_own_bookings.empty? %>
            <div class="card card-empty text-center rounded-3 border border-1 p-3 mb-5 mx-3">
              <div class="card-body">
                <h3 class="card-title"><i class="fa-solid fa-comments"></i></h3>
                <p class="card-text">I have no bookings</p>
                <%= link_to bikes_path, style: "text-decoration:none" do %>
                <div class="d-grid gap-2 col-6 mx-auto">
                  <button class="btn btn-primary" type="button">Book a bike</button>
                </div>
                <% end %>
              </div>
            </div>
          <% end %>
          <div class="cards">
            <% @user_own_bookings.each do |booking| %>
              <%= render "shared/card-my-bookings", booking: booking %>
            <% end %>
          </div>
        </div>
      </section>
    </div>

    <div class="tab-pane fade show" id="nav-bookings" role="tabpanel" aria-labelledby="nav-bookings-tab" tabindex="0">
      <section class="section">
        <div class="d-flex justify-content-around">
          <% if @rented_out_by_user.empty? %>
            <div class="card card-empty text-center rounded-3 border border-1 p-3 mb-5 mx-3">
              <div class="card-body">
                <h3 class="card-title"><i class="fa-solid fa-comments"></i></h3>
                <p class="card-text">No bookings requests for now </p>
              </div>
            </div>
          <% end %>
          <div class="cards">
            <% @rented_out_by_user.each do |booking| %>
              <%= render "shared/card-booking-validation", booking: booking %>
            <% end %>
          </div>
        </div>
      </section>
    </div>


    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab" tabindex="0">
      <section class="section">
        <div class="d-flex justify-content-around">
          <% if @bikes.empty? %>
            <div class="card card-empty text-center rounded-3 border border-1 p-3 mb-5 mx-3">
              <div class="card-body">
                <h3 class="card-title"><i class="fa-solid fa-bicycle"></i></h3>
                <p class="card-text">No bikes in your garage</p>
                <%= link_to new_bike_path, style: "text-decoration:none" do %>
                <div class="d-grid gap-2 col-6 mx-auto">
                  <button class="btn btn-outline-primary" type="button">Add a bike</button>
                </div>
                <% end %>
              </div>
            </div>
          <% end %>
          <div class="cards">
            <% @bikes.each do |bike| %>
              <%= render "shared/card-bike", bike: bike %>
            <% end %>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
